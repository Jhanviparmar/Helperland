@model Helperland.Models.User;
@using Microsoft.AspNetCore.Http;

@{
    <!DOCTYPE html>
    <html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" type="text/css" href="~/css/book-a-serviceStyle.css">
        <link rel="stylesheet" type="text/css" href="~/css/service-historyStyle.css">
        <link rel="stylesheet" type="text/css" href="~/css/upcoming-servicesStyle.css">
        <link rel="stylesheet" type="text/css" href="~/css/styles.css">
        <title>Serviceprovider Pages</title>
        <!--------------Bootstrap------------------>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    </head>
    <body>
        <!------------Navbar-------------->
        @Html.Partial("_header")
        <!----------------Welcome------------->
        <section class="welcome" style="padding: 100px 0 20px 0;">
            <div class="d-flex text-center align-items-center justify-content-center">
                <p id="welcome">Welcome, <span class="fw-bold"> @Context.Session.GetString("username")!</span></p>
            </div>
        </section>
        <!----------------Mainbody-------------->
        <div class="row px-5" style="padding-top: 50px;">
            <div class="col-lg-3 d-lg-block d-none">
                <div class="sidemenu mb-5">
                    <div class="nav flex-column nav-pills bg-transparent" id="v-pills-tab" role="tablist" aria-orientation="vertical">

                        <a class="nav-link active" id="v-pills-db-tab" data-toggle="pill" href="#db" role="tab" aria-controls="v-pills-db" aria-selected="true">Dashboard</a>

                        <a class="nav-link" id="v-pills-nsr-tab" data-toggle="pill" href="#nsr" role="tab" aria-controls="v-pills-nsr" aria-selected="false">New Service Requests</a>

                        <a class="nav-link" id="v-pills-us-tab" data-toggle="pill" href="#us" role="tab" aria-controls="v-pills-us" aria-selected="false">Upcoming Services</a>

                        <a class="nav-link" id="v-pills-ss-tab" data-toggle="pill" href="#ss" role="tab" aria-controls="v-pills-ss" aria-selected="false">Service Schedule</a>

                        <a class="nav-link" id="v-pills-sh-tab" data-toggle="pill" href="#sh" role="tab" aria-controls="v-pills-sh" aria-selected="false">Service History</a>

                        <a class="nav-link" id="v-pills-mr-tab" data-toggle="pill" href="#mr" role="tab" aria-controls="v-pills-mr" aria-selected="false">My Ratings</a>

                        <a class="nav-link" id="v-pills-bc-tab" data-toggle="pill" href="#bc" role="tab" aria-controls="v-pills-bc" aria-selected="false">Block Customer</a>
                    </div>
                </div>
            </div>

            <div class="col-lg-9 col-12">

                <div class="tab-content" id="v-pills-tabContent">

                    <div class="tab-pane fade show active" id="mysettings" role="tabpanel" aria-labelledby="v-pills-mysettings-tab">
                        <div class="col">

                            <div class="nav flex-row nav-pills bg-transparent setting-tabs" id="v-pills-tab" role="tablist">

                                <a class="nav-link active px-5" id="v-pills-details-tab" data-toggle="pill" href="#details" role="tab" aria-controls="v-pills-details" aria-selected="true">
                                    <img class="d-md-none" src="~/images/my-account-details.png">
                                    <span class="d-md-block d-none">My Details</span>
                                </a>

                                <a class="nav-link px-5" id="v-pills-password-tab" data-toggle="pill" href="#password" role="tab" aria-controls="v-pills-password" aria-selected="false">
                                    <img class="d-md-none" src="~/images/my-account-password.png">
                                    <span class="d-md-block d-none">Password</span>
                                </a>

                            </div>

                            <div class="tab-content" id="pills-tabContent">
                                <div class="tab-pane fade show active" id="details" role="tabpanel" aria-labelledby="pills-details-tab">
                                    <div class="col p-3 mysetting">
                                        <div class="flex-column">
                                            <div class="fw-bold mb-3">Account status : <span class="status"> Active</span></div>
                                            <div class="fw-bold">Basic details</div>
                                            <hr>
                                            <div class="row">
                                                <div class="col-md-4 col-12 mb-2">
                                                    <label>First Name</label>
                                                    <div><input type="text" name="firstname" id="firstname" class="px-2" asp-for="FirstName"></div>
                                                </div>
                                                <div class="col-md-4 col-12 mb-2">
                                                    <label>Last Name</label>
                                                    <div><input type="text" name="lastname" id="lastname" class="px-2" asp-for="LastName"></div>
                                                </div>
                                                <div class="col-md-4 col-12 mb-2">
                                                    <label>Email</label>
                                                    <div><input type="text" name="email" class="px-2" asp-for="Email" disabled></div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-md-4 col-12 mb-2">
                                                    <label>Mobile Number</label>
                                                    <div class="input-group mb-3">
                                                        <div class="input-group-prepend">
                                                            <span class="input-group-text py-2" id="basic-addon1">+91</span>
                                                        </div>
                                                        <input type="tel" class="form-control py-2" asp-for="Mobile" aria-label="Phone Number" id="mobile" aria-describedby="basic-addon1">
                                                    </div>
                                                </div>
                                                <div class="col-md-4 col-12 mb-2 dob">
                                                    <label>Date of Birth</label>
                                                    <div>
                                                        <select name="dob" class="p-2 me-2">

                                                            <option value="01">01</option>
                                                            <option value="02">02</option>
                                                            <option value="03" selected>03</option>
                                                            <option value="04">04</option>
                                                            <option value="05">05</option>
                                                            <option value="06">06</option>
                                                            <option value="07">07</option>
                                                            <option value="08">08</option>
                                                            <option value="09">09</option>
                                                            <option value="10">10</option>
                                                            <option value="11">11</option>
                                                            <option value="12">12</option>
                                                            <option value="13">13</option>
                                                            <option value="14">14</option>
                                                            <option value="15">15</option>
                                                            <option value="16">16</option>
                                                            <option value="17">17</option>
                                                            <option value="18">18</option>
                                                            <option value="19">19</option>
                                                            <option value="20">20</option>
                                                            <option value="21">21</option>
                                                            <option value="22">22</option>
                                                            <option value="23">23</option>
                                                            <option value="24">24</option>
                                                            <option value="25">25</option>
                                                            <option value="26">26</option>
                                                            <option value="27">27</option>
                                                            <option value="28">28</option>
                                                            <option value="29">29</option>
                                                            <option value="30">30</option>
                                                            <option value="31">31</option>
                                                        </select>

                                                        <select name="dob" class="p-2 me-2">

                                                            <option value="january">January</option>
                                                            <option value="february">February</option>
                                                            <option value="march" selected>March</option>
                                                            <option value="april">April</option>
                                                            <option value="may">May</option>
                                                            <option value="june">June</option>
                                                            <option value="july">July</option>
                                                            <option value="august">August</option>
                                                            <option value="september">September</option>
                                                            <option value="october">October</option>
                                                            <option value="november">November</option>
                                                            <option value="december">December</option>
                                                        </select>

                                                        <select name="dob" class="p-2">

                                                            <option value="2012">2012</option>
                                                            <option value="2011">2011</option>
                                                            <option value="2010">2010</option>
                                                            <option value="2009">2009</option>
                                                            <option value="2008">2008</option>
                                                            <option value="2007">2007</option>
                                                            <option value="2006">2006</option>
                                                            <option value="2005">2005</option>
                                                            <option value="2004">2004</option>
                                                            <option value="2003">2003</option>
                                                            <option value="2002">2002</option>
                                                            <option value="2001">2001</option>
                                                            <option value="2001">2000</option>
                                                            <option value="1999">1999</option>
                                                            <option value="1998">1998</option>
                                                            <option value="1997">1997</option>
                                                            <option value="1996">1996</option>
                                                            <option value="1995">1995</option>
                                                            <option value="1994">1994</option>
                                                            <option value="1993">1993</option>
                                                            <option value="1992">1992</option>
                                                            <option value="1991">1991</option>
                                                            <option value="1990">1990</option>
                                                            <option value="1989">1989</option>
                                                            <option value="1988">1988</option>
                                                            <option value="1987">1987</option>
                                                            <option value="1986">1986</option>
                                                            <option value="1985">1985</option>
                                                            <option value="1984">1984</option>
                                                            <option value="1983">1983</option>
                                                            <option value="1982" selected>1982</option>
                                                            <option value="1981">1981</option>
                                                            <option value="1980">1980</option>
                                                            <option value="1979">1979</option>
                                                            <option value="1978">1978</option>
                                                            <option value="1977">1977</option>
                                                            <option value="1976">1976</option>
                                                            <option value="1975">1975</option>
                                                            <option value="1974">1974</option>
                                                            <option value="1973">1973</option>
                                                            <option value="1972">1972</option>
                                                            <option value="1971">1971</option>
                                                            <option value="1970">1970</option>
                                                            <option value="1969">1969</option>
                                                            <option value="1968">1968</option>
                                                            <option value="1967">1967</option>
                                                            <option value="1966">1966</option>
                                                            <option value="1965">1965</option>
                                                            <option value="1964">1964</option>
                                                            <option value="1963">1963</option>
                                                            <option value="1962">1962</option>
                                                            <option value="1961">1961</option>
                                                            <option value="1960">1960</option>
                                                            <option value="1959">1959</option>
                                                            <option value="1958">1958</option>
                                                            <option value="1957">1957</option>
                                                            <option value="1956">1956</option>
                                                            <option value="1955">1955</option>
                                                            <option value="1954">1954</option>
                                                            <option value="1953">1953</option>
                                                            <option value="1952">1952</option>
                                                            <option value="1951">1951</option>
                                                            <option value="1950">1950</option>
                                                            <option value="1949">1949</option>
                                                            <option value="1948">1948</option>
                                                            <option value="1947">1947</option>
                                                            <option value="1946">1946</option>
                                                            <option value="1945">1945</option>
                                                        </select>
                                                    </div>
                                                </div>
                                                <div class="col-md-4 col-12">
                                                    <div>
                                                        <label>Nationality</label>
                                                        <div>
                                                            <select name="nationality" class="p-2 mt-1" id="nationality" class="nationality">
                                                                <option value="German">German</option>
                                                                <option value="Indian">Indian</option>
                                                                <option value="dutch">Dutch</option>
                                                                <option value="italian">Italian</option>
                                                            </select>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="d-flex flex-column mt-2">
                                                <div style="font-size: 18px;">Gender</div>
                                                <div class="flex-row radio" id="radio">
                                                    <input type="radio" value="Male" name="gender">
                                                    <label for="Male" class="me-2">Male</label>
                                                    <input type="radio" value="Female" name="gender">
                                                    <label for="Female" class="me-2">Female</label>
                                                    <input type="radio" value="Rather not to say" name="gender">
                                                    <label for="Rather not to say">Rather not to say</label>
                                                </div>
                                            </div>
                                            <div class="d-flex flex-column mt-3 avatar">
                                                <div style="font-size: 18px;"><label>Select avatar</label></div>
                                                <div class="flex-row mt-2">
                                                    <a href="#"><img src="~/images/avatar-car.png"></a>
                                                    <img src="~/images/avatar-female.png">
                                                    <img src="~/images/avatar-hat.png">
                                                    <img src="~/images/avatar-iron.png">
                                                    <img src="~/images/avatar-male.png">
                                                    <img src="~/images/avatar-ship.png">
                                                </div>
                                            </div>
                                            @Html.Partial("spAddress")
                                            <button class="button px-3" id="sp-details">Save</button>
                                        </div>
                                    </div>
                                </div>
                                <div class="tab-pane fade" id="password" role="tabpanel" aria-labelledby="pills-password-tab">
                                    <div class="col p-3">
                                        <p class="fw-bold d-md-none" style="font-size: 18px;">My Password</p>
                                        <div class="flex-column mysetting">
                                            <label class="mb-1">Old Password</label>
                                            <div><input class="mb-3 p-2" type="password" name="old-password" id="old-password" placeholder="Current Password"></div>
                                            <label class="mb-1">New Password</label>
                                            <div><input class="mb-3 p-2" type="password" name="new-password" id="new-password" placeholder="New Password"></div>
                                            <label class="mb-1">Confirm Password</label>
                                            <div><input class="mb-3 p-2" type="password" name="confirm-password" id="confirm-password" placeholder="Confirm Password"></div>
                                            <div><button class="button px-3" id="updatepassword">Save</button></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>


                </div>
            </div>
        </div>
        <!---------------footer--------------------->
        @Html.Partial("_footer")

        <div onclick="topFunction()" id="myBtn" title="Go to top"><img class="scroll ms-5" src="~/images/up.png"></div>

        <script src="https://code.jquery.com/jquery-3.1.1.min.js">
        <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
        <script src=”https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js”></script>
        <script src=”https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js”></script>
        <script src="app.js"></script>

        <script src="~/js/mobilemenu.js"></script>
        <script src="~/js/script.js"></script>
        <script type="text/javascript">
            window.addEventListener("scroll", function () {
                var header = document.querySelector("header");
                header.classList.toggle("sticky", window.scrollY > 0);
            });
        </script>

        <script>

            $("#sp-details").on('click', function () {
            var book = {};
            book.FirstName = $("#firstname").val();
            book.LastName = $("#lastname").val();
            book.Mobile = $("#mobile").val();
            console.log(book);
            $.ajax({
                url: '@Url.Action("UpdateDetails", "Home")',
                type: 'post',
                dataType: 'json',
                contentType: 'application/json',
                data: JSON.stringify(book),
                success: function (resp) {
                    alert("Data has been added successfully.");
                    location.reload();
                },
                error: function (err) {
                    alert("Error while inserting data");
                }
            });
        });



            $("#updatepassword").on('click', function () {
            var password = {};
            password.Password = $("#old-password").val();
            password.Newpassword = $("#new-password").val();
            password.Confirmpassword = $("#confirm-password").val();
            console.log(password);
            if (password.Newpassword != password.Confirmpassword) {
                alert("Password and Confirm password must match");
            }
            else
            {
                $.ajax({
                    url: '@Url.Action("Updatepassword","home")',
                    type: 'post',
                    dataType: 'json',
                    contentType: 'application/json',
                    data: JSON.stringify(password),
                    success: function (resp) {
                        if (resp) {
                            alert("Password changed");
                        }
                        else {
                            alert("Old password does not match");
                        }
                    },
                    error: function (err) {
                        alert("Error occured while changing the password");
                    }
                });
            }
            });


        $(document).on('click', '#save-details', function () {
            var add = {};
            add.AddressLine1 = $("#streetname").val();
            add.AddressLine2 = $("#housenumber").val();
            add.PostalCode = $("#postalcode").val();
            add.City = $("#city").val();
            add.AddressLine1 = $("#streetname1").val();
            add.AddressLine2 = $("#housenumber1").val();
            add.PostalCode = $("#postalcode1").val();
            add.City = $("#city1").val();
            console.log(add);
            $.ajax({
                url: '@Url.Action("spAddress", "Home")',
                type: 'post',
                dataType: 'json',
                contentType: 'application/json',
                data: JSON.stringify(add),
                success: function (resp) {
                    alert("Data has been added successfully.");
                    location.reload();
                },
                error: function (err) {
                    alert("Error while inserting data");
                }
            });
        });
        </script>

    </body>
</html>
}

